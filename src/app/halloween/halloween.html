<form [formGroup]="fiesta" (ngSubmit)="comprobar()">
    <div class = "pagina">
        <h1>Fiesta de Conde Chibi</h1>
        <div class="form">
            <strong class="formulario" for="nombre">Nombre: </strong>
            <input id="nombre" formControlName="nombre" [ngClass]="{'error-input': fiesta.controls['nombre'].touched && fiesta.controls['nombre'].invalid}">
                @if (fiesta.controls['nombre'].touched){
                     <small class ="error">
                        @if (fiesta.controls['nombre'].hasError('required')) {
                            ğŸ‘» Este campo da mÃ¡s miedo vacÃ­o, Â¡rellÃ©nalo!
                        }
                        @if (fiesta.controls['nombre'].hasError('minlength')) {
                            ğŸˆâ€â¬› Tres letras solas van a sentirse aterradas Â¿Que tal si agregas mas?
                        }
                    </small>
                }
        </div>

        <div class="form">
            <strong class="formulario" for="email">Email: </strong>
            <input id="email" formControlName="email" [ngClass]="{'error-input': fiesta.controls['email'].touched && fiesta.controls['email'].invalid}">
                @if (fiesta.controls['email'].touched){
                    <small class ="error">
                        @if (fiesta.controls['email'].hasError('required')) {
                            ğŸ‘» Este campo da mÃ¡s miedo vacÃ­o, Â¡rellÃ©nalo!
                        }
                        @if (fiesta.controls['email'].hasError('email')) {                            
                            ğŸ©¸ Ese correo parece malditoâ€¦ revisa el formato
                        }
                    </small>
                }
        </div>

        <div class="form">
           <strong class="formulario" for="tipoInvitado">Tipo de invitado: </strong>
                <select id="tipoInvitado" formControlName="tipoInvitado" class="form-select" [ngClass]="{'error-input': fiesta.controls['tipoInvitado'].touched && fiesta.controls['tipoInvitado'].invalid}">
                    <option value="">-- Selecciona un tipo --</option>
                    <option value="vampiro">HumanoğŸ•µï¸</option>
                    <option value="fantasma">FantasmağŸ‘»</option>
                    <option value="zombi">Vampiro ğŸ§›â€â™‚ï¸</option>
                    <option value="bruja">BrujağŸ§™â€â™€ï¸</option>
                </select>

                @if (fiesta.controls['tipoInvitado'].touched && fiesta.controls['tipoInvitado'].hasError('required')) {
                    <small class="error">
                        ğŸ‘» Este campo da mÃ¡s miedo vacÃ­o, Â¡rellÃ©nalo!
                    </small>
                }
        </div>

        
        <div class="form">
            <strong class="formulario" for="disfraz">Disfraz: </strong>
            <input id="disfraz" formControlName="disfraz" [ngClass]="{'error-input': fiesta.controls['disfraz'].touched && fiesta.controls['disfraz'].invalid}">
                @if (fiesta.controls['disfraz'].touched){
                     <small class ="error">
                        @if (fiesta.controls['disfraz'].hasError('required')) {
                            ğŸ‘» Este campo da mÃ¡s miedo vacÃ­o, Â¡rellÃ©nalo!
                        }
                    </small>
                }
        </div>

        <div class = form>
            <strong class="formulario" for="fechaLlegada">Fecha de llegada: </strong>
            <input formControlName="fechaLlegada" [ngClass]="{'error-input': fiesta.controls['fechaLlegada'].touched && fiesta.controls['fechaLlegada'].invalid}" type="date" matInput>
                @if (fiesta.controls['fechaLlegada'].touched && fiesta.controls['fechaLlegada'].hasError('required')){
                    <small class ="error">
                        ğŸ‘» Este campo da mÃ¡s miedo vacÃ­o, Â¡rellÃ©nalo!
                    </small>
                }
        </div>

        <div>
            <strong for="aceptaReglas">Prometo no morder a los demÃ¡s invitados:</strong>
            <mat-checkbox class="checkbox" formControlName="aceptaReglas" [ngClass]="{'error-input': fiesta.controls['aceptaReglas'].touched && fiesta.controls['aceptaReglas'].invalid}"></mat-checkbox>
                    @if (fiesta.controls['aceptaReglas'].touched && fiesta.controls['aceptaReglas'].invalid){
                        <small class ="error">
                            ğŸ‘» Este campo da mÃ¡s miedo vacÃ­o, Â¡marca la casilla!
                        </small>
                    }
        </div>


        <div>
            <strong class="formulario">
                @if (segundos > 0) {
                    â³ Halloween sera dentro de {{ mensajeHalloween }} segundos
                }
                @else {
                    ğŸ•› Â¡La noche de los bugs ha comenzado!
                    <br>
                    <img class ="imagen" src="https://upload.wikimedia.org/wikipedia/commons/7/78/Ubisoft_logo.svg">
                }
            </strong>
        </div>
        

        @if (mensaje) {
            <div class="formulario" class="mensaje">
                <strong> {{ mensaje }} </strong>
            </div>
}

    <button type="submit">Enviar formulario</button>

    <button type="button"(click)="resetear()">Resetear</button>

    </div>

</form>

